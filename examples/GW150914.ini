################################################################################
## Data generation arguments
################################################################################

trigger-time=1126259462.391

################################################################################
## Detector arguments
################################################################################

detectors = [H1, L1]
psd_dict = {H1=psd_data/h1_psd.txt, L1=psd_data/l1_psd.txt}
maximum-frequency={ 'H1': 896, 'L1': 896,  }
minimum-frequency={H1:20.000000, L1:20.000000,waveform:0.}
channel_dict = {H1:GWOSC, L1:GWOSC}
duration = 4

################################################################################
## Job submission arguments
################################################################################

label = GW150914
outdir = outdir

################################################################################
## Likelihood arguments
################################################################################

distance-marginalization=True
phase-marginalization=False
time-marginalization=True
jitter-time=True
reference-frame=H1L1
time-reference=geocent

################################################################################
## Prior arguments
################################################################################

prior-dict= {
	mass_ratio: bilby.gw.prior.UniformInComponentsMassRatio(name='mass_ratio', minimum= 0.167 , maximum=1)
	chirp_mass : bilby.gw.prior.UniformInComponentsChirpMass(name='chirp_mass', minimum=12, maximum=400)
	total_mass : Constraint(name='total_mass', minimum=60, maximum=400)
	a_1 : Uniform(name='a_1', minimum=0, maximum=0.99)
	a_2 : Uniform(name='a_2', minimum=0, maximum=0.99)
	tilt_1 : Sine(name='tilt_1')
	tilt_2 : Sine(name='tilt_2')
	phi_12 : Uniform(name='phi_12', minimum=0, maximum=2 * np.pi, boundary='periodic')
	phi_jl : Uniform(name='phi_jl', minimum=0, maximum=2 * np.pi, boundary='periodic')
	dec :  Cosine(name='dec')
	ra :  Uniform(name='ra', minimum=0, maximum=2 * np.pi, boundary='periodic')
	theta_jn :  Sine(name='theta_jn')
	luminosity_distance : bilby.gw.prior.UniformSourceFrame(name='luminosity_distance', minimum=100.0, maximum=10000.0)
	psi :  Uniform(name='psi', minimum=0, maximum=np.pi, boundary='periodic')
	phase :  Uniform(name='phase', minimum=0, maximum=2 * np.pi, boundary='periodic')}
enforce-signal-duration=False
################################################################################
## Waveform arguments
################################################################################

waveform-generator=gwsignal4gwsurr.utils_bilby.SurrogateWaveformGenerator
waveform-approximant=NRSur7dq4
waveform-arguments-dict ={
  reference-frequency:20., 
}
###############################################################################
## Sampler settings
################################################################################

sampler = dynesty
nact = 5
n-parallel =1 
nlive = 1000
dynesty-sample = rwalk

################################################################################
## Slurm Settings
################################################################################

nodes = 1
ntasks-per-node = 64
time = 24:00:00
n-check-point = 10000
extra-lines= export LAL_DATA_PATH=${HOME}/src/lalsuite-extra/data/lalsimulation:${LAL_DATA_PATH}; module load openmpi/4.1.6/; source ~/miniforge3/etc/profile.d/conda.sh; conda activate igwn; export OMP_NUM_THREADS=1
slurm-extra-lines= partition=cpu,cpu-preempt,umd-cscdr-cpu no-requeue mail-user=vupadhyaya@umassd.edu mail-type=END
